---
title: "STA302_project_part1"
author: "Lu (Lucy) Bai"
output:
  pdf_document: default
  html_document:
    df_print: paged
---

We load in the Ames Housing dataset, form the subset, clean the subset.
```{r}
# Load the original Ames Housing data
AmesHousing = read.csv("/Users/lucybai/Documents/UofT/university academy/Forth year F/STA302/STA302 project/AmesHousing.csv", header=T)
# Subset the data
subset = AmesHousing[,c(20, 38, 39, 41, 50, 72, 80)]
# Clean subset
Housing_data = na.omit(subset)
summary(Housing_data)
```

Fit the model
```{r}
fit = lm(Sale_Price ~ Year_Built + Bsmt_Unf_SF + Total_Bsmt_SF + Full_Bath
         + Pool_QC + Heating_QC, 
         data = Housing_data)
summary(fit)
```



Plot each variable against each other.
```{r}
plot(Housing_data[, c(1, 2, 3, 5, 7)], col="cadetblue")
```


y vs. y^
```{r}
sale_price = Housing_data$Sale_Price
fitted_values = fitted(fit)

plot(fitted_values, sale_price,
     main = "Sale price versus regression fit",
     xlab = "Fitted values", ylab = "Sale Price (USD)")
abline(0, 1, 
       col=c("blue"), lty=1)
legend("bottomright", legend=c("y = x line"),
       col=c("blue"), lty=1)
```

e^ vs. x
```{r}
par(mfrow=c(2,2))

mod1 <- lm(Sale_Price ~ Bsmt_Unf_SF, data = Housing_data)
plot(residuals(mod1) ~ Housing_data$Bsmt_Unf_SF, 
     main="Residuals versus Unfinished Square Feet of Basement Area",
     xlab="Unfinished Square Feet of Basement Area", ylab="Residuals")
abline(h=0, col="red", lwd=3, lty=3)

mod2 <- lm(Sale_Price ~ Total_Bsmt_SF, data = Housing_data)
plot(residuals(mod2) ~ Housing_data$Total_Bsmt_SF, 
     main="Residuals versus Total Square Feet of Basement Area",
     xlab="Total Square Feet of Basement Area", ylab="Residuals")
abline(h=0, col="red", lwd=3, lty=3)

mod3 <- lm(Sale_Price ~ Full_Bath, data = Housing_data)
plot(residuals(mod3) ~ Housing_data$Full_Bath, 
     main="Residuals versus Full Bath",
     xlab="Full Bath", ylab="Residuals")
abline(h=0, col="red", lwd=3, lty=3)

mod4 <- lm(Sale_Price ~ Year_Built, data = Housing_data)
plot(residuals(mod3) ~ Housing_data$Year_Built, 
     main="Residuals versus Year Built",
     xlab="Year Built", ylab="Residuals")
abline(h=0, col="red", lwd=3, lty=3)
```


```{r}
plot(fit, which = 1)
```

```{r}
residual_values = resid(fit)
par(mfrow=c(1,2))
hist(residual_values,
     main = "Standardized residuals histogram",
     xlab = "Standardized residuals")
plot(fit, which = 2)
```

